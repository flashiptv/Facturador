# Funcionalidad de Subida de Imagen para Plantillas Personalizadas

## Descripci√≥n General

Tu aplicaci√≥n **Facturador** ya incluye una funcionalidad completa para crear plantillas de factura personalizadas subiendo una imagen de referencia. Esta caracter√≠stica permite a los usuarios crear modelos √∫nicos basados en im√°genes existentes de facturas que deseen replicar.

## ¬øC√≥mo Funciona?

### 1. Acceso a la Funcionalidad

1. **Navegar a Nueva Factura**: Ve a la secci√≥n "Nueva Factura" desde el men√∫ lateral.

2. **Seleccionar Plantilla Personalizada**: En el selector de plantillas, encontrar√°s estas opciones:
   - üè¢ Profesional (Recomendada)
   - üìÑ Cl√°sica
   - ‚ú® Minimalista
   - üé® Moderna
   - **üéØ Personalizada** ‚Üê Esta es la nueva opci√≥n

3. **Activar Subida de Imagen**: 
   - Haz clic en el bot√≥n **"Subir Modelo"** 
   - O selecciona "Personalizada" en el selector de plantillas

### 2. Subir Imagen de Referencia

#### M√©todos de Subida:
- **Arrastrar y soltar**: Arrastra una imagen directamente al √°rea designada
- **Clic para seleccionar**: Haz clic en el √°rea de subida para abrir el explorador de archivos

#### Archivos Compatibles:
- **Im√°genes**: JPG, JPEG, PNG
- **Documentos**: PDF
- **Tama√±o m√°ximo**: 10MB

### 3. Configuraci√≥n de la Plantilla

Una vez subida la imagen, puedes configurar:

#### Informaci√≥n B√°sica:
- **Nombre de la plantilla**: Personaliza el nombre (ej: "Mi Factura Corporativa")
- **Estilo base**: Elige entre Profesional, Minimalista o Moderno

#### Caracter√≠sticas Visuales:
- ‚úÖ **Incluir cabecera con logo**: A√±ade una secci√≥n de encabezado
- ‚úÖ **Incluir pie de p√°gina**: A√±ade informaci√≥n de contacto al final
- ‚úÖ **Encabezados con color**: Aplica gradientes de color a los t√≠tulos

### 4. Generar Plantilla

1. **Verificar configuraci√≥n**: Revisa todos los ajustes seleccionados
2. **Hacer clic en "Generar Plantilla"**: El sistema procesar√° la imagen
3. **Esperar procesamiento**: Se muestra una barra de progreso
4. **Plantilla lista**: La nueva plantilla se agrega autom√°ticamente al selector

## Caracter√≠sticas T√©cnicas

### Procesamiento de Imagen
- ‚úÖ **Validaci√≥n autom√°tica** de tipo y tama√±o de archivo
- ‚úÖ **Vista previa** de la imagen subida
- ‚úÖ **Procesamiento en segundo plano** con indicador de progreso
- ‚úÖ **Fallback autom√°tico** en caso de errores

### Almacenamiento
- ‚úÖ **Plantillas persistentes**: Se guardan en el sistema para uso futuro
- ‚úÖ **Metadatos organizados**: Informaci√≥n sobre origen y configuraci√≥n
- ‚úÖ **Integraci√≥n completa** con el sistema de facturaci√≥n

### Personalizaci√≥n Avanzada
- ‚úÖ **Estilos adaptativos**: Basados en la plantilla de referencia elegida
- ‚úÖ **Elementos opcionales**: Header, footer, colores personalizables
- ‚úÖ **Compatibilidad total** con el sistema de impresi√≥n y PDF

## Uso Pr√°ctico

### Ejemplo de Flujo Completo:

1. **Cliente necesita replicar una factura espec√≠fica**
2. **Escanea o fotograf√≠a la factura de referencia**
3. **Sube la imagen a Facturador**
4. **Configura las opciones deseadas**
5. **Genera la plantilla personalizada**
6. **Usa la nueva plantilla para todas sus facturas**

### Casos de Uso Ideales:

- **Empresas con branding espec√≠fico**: Mantener coherencia visual corporativa
- **Freelancers**: Replicar el formato de facturas de clientes
- **Peque√±os negocios**: Adaptar formatos espec√≠ficos del sector
- **Profesionales**: Crear facturas que coincidan con otros documentos comerciales

## Ventajas

### Para el Usuario:
- ‚úÖ **Proceso intuitivo**: Arrastrar, configurar y generar
- ‚úÖ **Resultados inmediatos**: Plantilla lista en segundos
- ‚úÖ **Flexibilidad total**: M√∫ltiples opciones de personalizaci√≥n
- ‚úÖ **Reutilizaci√≥n**: Plantillas guardadas permanentemente

### Para el Negocio:
- ‚úÖ **Consistencia profesional**: Facturas acordes a la imagen corporativa
- ‚úÖ **Ahorro de tiempo**: No necesita dise√±ar desde cero
- ‚úÖ **Compatibilidad**: Funciona con cualquier formato existente
- ‚úÖ **Escalabilidad**: Crear m√∫ltiples plantillas seg√∫n necesidades

## Estado Actual

### ‚úÖ Funcionalidades Implementadas:
- Interfaz completa de subida con drag & drop
- Validaci√≥n de archivos y tama√±o
- Vista previa de im√°genes subidas
- Configuraci√≥n avanzada de caracter√≠sticas
- Procesamiento backend con manejo de errores
- Integraci√≥n con el sistema de plantillas existente
- Guardado autom√°tico de plantillas personalizadas
- Indicador de progreso durante la generaci√≥n

### üîÑ Funcionalidades Pendientes (Opcionales):
- An√°lisis avanzado de imagen con IA para extracci√≥n autom√°tica de elementos
- Plantillas √∫nicas para Minimalista y Moderna (actualmente usan Profesional como base)
- Sistema de compartir plantillas entre usuarios
- Importaci√≥n/exportaci√≥n de plantillas personalizadas

## Conclusi√≥n

La funcionalidad de subida de imagen para plantillas personalizadas est√° **completamente implementada y lista para usar**. Los usuarios pueden ahora crear facturas √∫nicas basadas en cualquier imagen de referencia, manteniendo la profesionalidad y consistencia visual que requieren sus negocios.

Esta caracter√≠stica convierte a Facturador en una herramienta verdaderamente flexible que se adapta a las necesidades espec√≠ficas de cada usuario, en lugar de limitarlos a plantillas predefinidas.
